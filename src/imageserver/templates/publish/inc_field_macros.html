{#
  Outputs the HTML form element for an image parameter.
  Param "fields" is the output of ImageAttrs.validators() or TemplateAttrs.validators().
  Param "defaults" is a dictionary of default field values.
  Param "key" is a key into "fields" and "defaults".
#}
{% macro input(fields, defaults, key, placeholder="") %}
	{% set validator = fields[key][0] %}
	{% set web_name = fields[key][1] %}
	{% set typename = validator.__class__.__name__ %}
	{% set default = defaults[key] if defaults[key] is not none else '' %}
	{% include ["publish/input_%s.html" % key,
	            "publish/input_%s.html" % typename,
	            "publish/input_default.html"] %}
{% endmacro %}

{#
  Outputs the HTML for a help icon.
#}
{% macro help(anchor, classes="") %}
	<img src="{{ url_for('static', filename='images/icon-help.png') }}" class="clickable help {{ classes }}" data-anchor="{{ anchor }}" />
{% endmacro %}
